INCLUDE Irvine32.inc

.data
Array BYTE 11,22,43,5,11,35,1,5,2,10
arraySize byte ?
temp dword ?
index dword ?


.code
main PROC


      mov arraySize,lengthOf Array
      mov ecx,lengthOf Array
      mov eax,0
      mov esi,offset Array
      call BubbleSort
      call waitMsg

main ENDP

BubbleSort PROC uses ecx esi eax
       
	l1:
	    mov temp,ecx
	    mov index,20
	    sub index,ecx
        mov eax,20 
	    sub eax,index
	    mov ecx,eax
	    mov esi,0
	    l2:
	        mov bl,[Array+esi]
	        mov dl,[Array+(esi+1)]
	        cmp bl,dl
	        JA Label1
	        JMP Label2
	        Label1:
	        xchg [Array+(esi+1)],bl
	        xchg [Array+esi],dl
	        JMP Label2
	        Label2:
	        inc esi
	    loop l2
	    mov ecx,temp
	loop l1
    ret
BubbleSort ENDP

END main
